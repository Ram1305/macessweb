<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>M-Access | Smart Community Management</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Manrope:wght@700;800&display=swap"
    rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <style>
    /* ================= ROOT ================= */
    :root {
      --bg: #ffffff;
      --card: #f9fbff;
      --accent: #2d5be3;
      --text: #1a1e2e;
      --muted: #4b5563;
      --nav-bg: rgba(255, 255, 255, 0.8);
      --border: #e2e8f0;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Outfit', sans-serif;
    }

    html,
    body {
      overflow-x: hidden;
      width: 100%;
      scroll-behavior: smooth;
    }

    body {
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
    }

    /* ================= CONTAINER ================= */
    .container {
      max-width: 1200px;
      margin: auto;
      padding: 0 20px;
    }

    .section {
      padding: 80px 0;
      scroll-margin-top: 100px;
    }

    @media (max-width: 1024px) {
      .section {
        padding: 80px 0;
      }
    }

    @media (max-width: 768px) {
      .section {
        padding: 60px 0;
      }
    }

    /* ================= LOADER ================= */
    .loader {
      position: fixed;
      inset: 0;
      background: var(--bg);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    .loader-circle {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(0, 0, 0, 0.05);
      border-top: 4px solid var(--accent);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      100% {
        transform: rotate(360deg);
      }
    }

    /* ================= CURSOR GLOW ================= */
    .cursor-glow {
      position: fixed;
      width: 450px;
      height: 450px;
      background: radial-gradient(circle, rgba(45, 91, 227, 0.2) 0%, rgba(139, 92, 246, 0.15) 40%, transparent 70%);
      pointer-events: none;
      transform: translate(-50%, -50%);
      z-index: -1;
      mix-blend-mode: screen;
      filter: blur(50px);
      transition: width 0.3s, height 0.3s;
    }

    /* ================= BACKGROUND ================= */
    .background {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, #f0f7ff 0%, #ffffff 50%, #eff6ff 100%);
      z-index: -2;
      overflow: hidden;
    }

    #bg-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }

    .bg-blob {
      position: absolute;
      width: 900px;
      height: 900px;
      background: radial-gradient(circle, rgba(45, 91, 227, 0.15), transparent 70%);
      filter: blur(140px);
      border-radius: 50%;
      z-index: -2;
      animation: drift 30s infinite alternate ease-in-out;
    }

    .blob-1 {
      top: -20%;
      left: -10%;
      background: radial-gradient(circle, rgba(45, 91, 227, 0.12), transparent 70%);
    }

    .blob-2 {
      bottom: -15%;
      right: -10%;
      background: radial-gradient(circle, rgba(124, 58, 237, 0.1), transparent 70%);
    }

    .blob-3 {
      top: 30%;
      left: 50%;
      background: radial-gradient(circle, rgba(45, 91, 227, 0.08), transparent 70%);
    }


    @keyframes drift {
      from {
        transform: translate(0, 0) scale(1);
      }

      to {
        transform: translate(100px, 50px) scale(1.1);
      }
    }

    /* ================= SHOW-REVEAL ANIMATIONS ================= */
    .reveal {
      opacity: 0;
      transition: all 1s cubic-bezier(0.25, 1, 0.5, 1);
      will-change: transform, opacity;
    }

    .reveal-up {
      transform: translateY(30px);
    }

    .reveal-left {
      transform: translateX(-30px);
    }

    .reveal-right {
      transform: translateX(30px);
    }

    .reveal-scale {
      transform: scale(0.95);
    }

    .reveal.active {
      opacity: 1;
      transform: translate(0) scale(1);
    }

    /* Word-by-Word Reveal */
    .word-reveal span {
      display: inline-block;
      opacity: 0;
      transform: translateY(15px);
      transition: 1s cubic-bezier(0.2, 1, 0.3, 1);
      /* Robust inheritance for gradient text clipping */
      background: inherit;
      -webkit-background-clip: inherit;
      background-clip: inherit;
      -webkit-text-fill-color: inherit;
      color: inherit;
    }

    .reveal.active.word-reveal span {
      opacity: 1;
      transform: translateY(0);
    }

    /* Staggered Delays for Words - More rhythmic slower pace */
    .word-reveal span:nth-child(1) {
      transition-delay: 0.1s;
    }

    .word-reveal span:nth-child(2) {
      transition-delay: 0.3s;
    }

    .word-reveal span:nth-child(3) {
      transition-delay: 0.5s;
    }

    .word-reveal span:nth-child(4) {
      transition-delay: 0.7s;
    }

    .word-reveal span:nth-child(5) {
      transition-delay: 0.9s;
    }

    .word-reveal span:nth-child(6) {
      transition-delay: 1.1s;
    }

    .word-reveal span:nth-child(7) {
      transition-delay: 1.3s;
    }

    /* Animated Gradient Text */
    .gradient-text-animate {
      background: linear-gradient(90deg, #1a1e2e, #2d5be3, #8b5cf6, #1a1e2e);
      background-size: 300% auto;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      color: #1a1e2e;
      /* Absolute fallback */
      animation: gradientText 12s linear infinite;
    }

    /* Ensure words inside gradient text also have proper visibility */
    .gradient-text-animate span {
      -webkit-text-fill-color: inherit;
      color: inherit;
    }

    @keyframes gradientText {
      to {
        background-position: 300% center;
      }
    }

    /* Heading Float */
    .heading-float {
      animation: headingFloat 6s ease-in-out infinite alternate;
    }

    @keyframes headingFloat {
      from {
        transform: translateY(0);
      }

      to {
        transform: translateY(-5px);
      }
    }

    /* Shimmer Effect for Buttons */
    .btn {
      position: relative;
      overflow: hidden;
    }

    .btn::after {
      content: "";
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg,
          transparent 45%,
          rgba(255, 255, 255, 0.1) 50%,
          transparent 55%);
      transform: rotate(30deg);
      animation: shimmer 4s infinite;
    }

    @keyframes shimmer {
      0% {
        transform: translateX(-100%) rotate(30deg);
      }

      20%,
      100% {
        transform: translateX(100%) rotate(30deg);
      }
    }

    /* Staggered Delays for Grid Children */
    .stagger-reveal>*:nth-child(1) {
      transition-delay: 0.1s;
    }

    .stagger-reveal>*:nth-child(2) {
      transition-delay: 0.2s;
    }

    .stagger-reveal>*:nth-child(3) {
      transition-delay: 0.3s;
    }

    .stagger-reveal>*:nth-child(4) {
      transition-delay: 0.4s;
    }

    .stagger-reveal>*:nth-child(5) {
      transition-delay: 0.5s;
    }

    .stagger-reveal>*:nth-child(6) {
      transition-delay: 0.6s;
    }

    .delay-1 {
      transition-delay: 0.1s;
    }

    .delay-2 {
      transition-delay: 0.2s;
    }

    .delay-3 {
      transition-delay: 0.3s;
    }

    /* ================= NAV ================= */
    nav {
      position: fixed;
      width: 100%;
      background: transparent;
      border-bottom: 1px solid transparent;
      z-index: 1000;
      transition: all 0.4s ease;
    }

    nav.scrolled {
      backdrop-filter: blur(25px);
      -webkit-backdrop-filter: blur(25px);
      background: transparent;
      border-bottom: 1px solid transparent;
      padding: 10px 0;
    }

    .nav-inner {
      /* max-width: 1200px; */
      /* margin: auto; */
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      /* align-items: center; */
    }

    .logo-wrapper {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
    }

    nav img {
      height: 42px;
    }

    .logo-text {
      font-family: 'Manrope', sans-serif;
      font-size: 22px;
      font-weight: 800;
      color: var(--accent);
      letter-spacing: -0.5px;
    }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 30px;
      margin-top: auto;
      margin-bottom: auto;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--muted);
      font-weight: 500;
      font-size: 15px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      padding: 8px 16px;
      border-radius: 20px;
      position: relative;
    }

    .nav-links a:hover {
      color: var(--accent);
      background: rgba(45, 91, 227, 0.05);
    }

    .nav-links a.active {
      color: white;
      background: var(--accent);
      box-shadow: 0 4px 12px rgba(45, 91, 227, 0.2);
    }

    .mobile-nav-toggle {
      display: none;
      font-size: 24px;
      cursor: pointer;
      color: var(--text);
    }

    @media (max-width: 768px) {
      .nav-links {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background: white;
        flex-direction: column;
        gap: 0;
        padding: 10px 0;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        border-bottom: 1px solid var(--border);
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links li {
        width: 100%;
      }

      .nav-links a {
        padding: 15px 20px;
        display: block;
        width: 100%;
      }

      .mobile-nav-toggle {
        display: block;
      }
    }

    /* ================= HERO ================= */
    .hero {
      min-height: 100vh;
      display: flex;
      align-items: center;
    }

    @media (max-width: 768px) {
      .hero {
        min-height: auto;
        padding-top: 100px;
        padding-bottom: 60px;
      }
    }

    .hero-inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 80px;
    }

    .hero-content {
      flex: 1;
      max-width: 550px;
    }

    .hero h1 {
      font-family: 'Manrope', sans-serif;
      font-size: clamp(42px, 5vw, 64px);
      line-height: 1.1;
      font-weight: 800;
      letter-spacing: -1px;
      background: linear-gradient(135deg, #1a1e2e 0%, #2d5be3 100%);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .hero p {
      margin-top: 24px;
      font-size: 19px;
      color: var(--muted);
      line-height: 1.6;
    }

    .hero-buttons {
      margin-top: 36px;
    }

    .btn {
      padding: 14px 28px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      margin-right: 14px;
      transition: 0.3s;
    }

    .btn-primary {
      background: var(--accent);
      color: white;
      box-shadow: 0 10px 30px rgba(45, 91, 227, 0.2);
    }

    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 40px rgba(45, 91, 227, 0.35);
    }

    .btn-outline {
      border: 1.5px solid var(--border);
      color: var(--text);
    }

    .btn-outline:hover {
      color: var(--accent);
      border-color: var(--accent);
      background: rgba(45, 91, 227, 0.05);
    }

    .hero-image {
      flex: 1;
      display: flex;
      justify-content: center;
      perspective: 1500px;
    }

    .hero-image img {
      width: 280px;
      border-radius: 28px;
      box-shadow: 0 30px 80px rgba(45, 91, 227, 0.2);
      transform-style: preserve-3d;
      transition: transform 0.2s cubic-bezier(0.2, 1, 0.3, 1);
      animation: float 6s ease-in-out infinite;
    }

    /* 3D Tilt Wrapper */
    .tilt-3d {
      transform-style: preserve-3d;
      transition: transform 0.2s cubic-bezier(0.2, 1, 0.3, 1);
    }

    .tilt-3d i,
    .tilt-3d img {
      transform: translateZ(50px);
      /* Deep parallax for icons/images */
      transition: transform 0.2s cubic-bezier(0.2, 1, 0.3, 1);
    }

    .hero-image:hover img {
      box-shadow: 0 50px 100px rgba(45, 91, 227, 0.3);
    }

    @keyframes float {
      0% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-12px);
      }

      100% {
        transform: translateY(0);
      }
    }

    /* ================= FEATURES (FIXED ALIGNMENT) ================= */

    .feature-block {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 120px;
      margin-top: 140px;
    }

    @media (max-width: 1200px) {
      .feature-block {
        gap: 60px;
      }
    }

    @media (max-width: 1024px) {
      .feature-block {
        flex-direction: column !important;
        text-align: center;
        margin-top: 100px;
        gap: 40px;
      }
    }

    .feature-block.reverse {
      flex-direction: row-reverse;
    }

    .feature-text {
      flex: 1;
      max-width: 520px;
    }

    .feature-text h2 {
      font-family: 'Manrope';
      font-size: 34px;
      margin-bottom: 18px;
    }

    .feature-text p {
      color: var(--muted);
      font-size: 17px;
      line-height: 1.6;
    }

    .feature-visual {
      flex: 1;
      display: flex;
      align-items: center;
      perspective: 1000px;
    }

    .feature-block:not(.reverse) .feature-visual {
      justify-content: flex-end;
    }

    .feature-block.reverse .feature-visual {
      justify-content: flex-start;
    }

    .feature-box {
      width: 240px;
      height: 240px;
      background: linear-gradient(135deg, #ffffff 0%, #f0f4ff 100%);
      border-radius: 40px;
      border: 1px solid rgba(45, 91, 227, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), border-color 0.3s, box-shadow 0.3s;
      box-shadow: 0 20px 40px rgba(45, 91, 227, 0.05);
      transform-style: preserve-3d;
    }

    .feature-box:hover {
      transform: translateY(-10px) rotate(3deg);
      border-color: var(--accent);
      box-shadow: 0 40px 100px rgba(45, 91, 227, 0.15);
    }

    .feature-box i {
      background: linear-gradient(135deg, var(--accent), #1f3c88);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 5px 15px rgba(45, 91, 227, 0.3));
    }

    /* ================= GRID ================= */
    .grid {
      margin-top: 80px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
    }

    @media (max-width: 768px) {
      .grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
    }

    .card {
      background: var(--bg);
      padding: 32px;
      border-radius: 24px;
      text-align: center;
      border: 1px solid var(--border);
      transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .card:hover {
      transform: translateY(-8px);
      border-color: var(--accent);
      box-shadow: 0 30px 70px rgba(45, 91, 227, 0.1);
    }

    .card i {
      font-size: 26px;
      color: var(--accent);
      margin-bottom: 12px;
    }

    /* ================= TESTIMONIALS ================= */
    .testimonial-grid {
      margin-top: 60px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
    }

    .testimonial {
      background: var(--card);
      padding: 32px;
      border-radius: 24px;
      border: 1px solid var(--border);
      transition: 0.3s;
    }

    .testimonial:hover {
      border-color: var(--accent);
      transform: translateY(-5px);
    }

    .testimonial p {
      color: var(--muted);
      margin-bottom: 12px;
    }

    /* ================= DOWNLOAD ================= */
    .download {
      text-align: center;
    }

    .store-btn {
      padding: 14px 28px;
      background: linear-gradient(135deg, #1f3c88, #2d5be3);
      border-radius: 40px;
      text-decoration: none;
      color: white;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      margin: 10px;
      transition: 0.3s;
      font-weight: 600;
    }

    .store-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 20px 60px rgba(45, 91, 227, 0.4);
    }

    /* ================= FOOTER ================= */
    footer {
      padding: 60px 0;
      text-align: center;
      color: white;
      background: #080c14;
    }

    /* ================= RESPONSIVE ADJUSTMENTS ================= */
    @media(max-width: 1200px) {
      .hero-inner {
        gap: 40px;
      }
    }

    @media(max-width: 1024px) {
      .hero-inner {
        flex-direction: column;
        text-align: center;
        gap: 60px;
      }

      .hero-content {
        max-width: 100%;
      }

      .hero h1 {
        font-size: clamp(36px, 8vw, 54px);
      }

      .hero-image img {
        width: 240px;
      }
    }

    @media(max-width: 768px) {
      .hero h1 {
        font-size: clamp(28px, 10vw, 36px);
        font-weight: 800;
        line-height: 1.2;
      }

      .hero p {
        font-size: 16px;
        margin-top: 16px;
        line-height: 1.5;
      }

      .btn {
        display: block;
        margin: 12px 0;
        width: 100%;
        text-align: center;
        padding: 12px 20px;
      }

      .hero-buttons {
        margin-top: 28px;
      }

      .feature-text h2 {
        font-size: 24px;
        margin-bottom: 10px;
        line-height: 1.3;
      }

      .feature-box {
        width: 160px;
        height: 160px;
        border-radius: 30px;
      }

      .feature-box i {
        font-size: 2.2em;
      }

      .feature-block {
        margin-top: 60px !important;
        gap: 30px !important;
      }
    }

    @media(max-width: 480px) {
      .hero h1 {
        font-size: 28px;
      }

      .hero-image img {
        width: 180px;
      }
    }
  </style>
</head>

<body>

  <div class="loader">
    <div class="loader-circle"></div>
  </div>
  <div class="cursor-glow"></div>
  <div class="background">
    <canvas id="bg-canvas"></canvas>
    <div class="bg-blob blob-1"></div>
    <div class="bg-blob blob-2"></div>
    <div class="bg-blob blob-3"></div>
  </div>

  <nav>
    <div class="nav-inner">
      <a href="#" class="logo-wrapper">
        <img src="logo.png" alt="Logo">
        <span class="logo-text">M Access</span>
      </a>
      <div class="mobile-nav-toggle">
        <i class="fa-solid fa-bars"></i>
      </div>
      <ul class="nav-links">
        <li><a href="#">Home</a></li>
        <li><a href="#features">Features</a></li>
        <li><a href="#testimonials">Reviews</a></li>
        <li><a href="#download">Download</a></li>
      </ul>
    </div>
  </nav>

  <!-- HERO -->
  <section id="home" class="hero section">
    <div class="container hero-inner">
      <div class="hero-content reveal reveal-left word-reveal">
        <h1 class="gradient-text-animate">
          <span>One</span> <span>App</span> <span>for</span> <span>Complete</span> <span>Apartment</span>
          <span>Life.</span>
        </h1>
        <p>Visitor management, QR entry, maintenance payments, amenities booking, secure dialing and more ‚Äî all in one
          platform.</p>
        <div class="hero-buttons">
          <a href="#download" class="btn btn-primary">Get Started</a>
          <a href="#features" class="btn btn-outline">Explore Features</a>
        </div>
      </div>
      <div class="hero-image reveal reveal-scale delay-1">
        <img src="dashboard.png" alt="Dashboard" id="hero-img" class="tilt-3d">
      </div>
    </div>
  </section>

  <!-- FEATURES -->
  <section id="features" class="section">
    <div class="container">

      <div class="feature-block reveal reveal-left">
        <div class="feature-text">
          <h2 class="heading-float">Smart Visitor & QR Entry</h2>
          <p>Approve visitors digitally and generate QR codes for seamless entry.</p>
        </div>
        <div class="feature-visual">
          <div class="feature-box tilt-3d">
            <i class="fa-solid fa-qrcode fa-3x"></i>
          </div>
        </div>
      </div>

      <div class="feature-block reverse reveal reveal-right">
        <div class="feature-text">
          <h2 class="heading-float">Secure Visitor Confirmation</h2>
          <p>Security confirms visitors without exposing resident mobile numbers.</p>
        </div>
        <div class="feature-visual">
          <div class="feature-box tilt-3d">
            <i class="fa-solid fa-phone fa-3x"></i>
          </div>
        </div>
      </div>

      <h2 class="reveal reveal-up heading-float" style="text-align:center;margin-top:140px;">More Powerful Features</h2>

      <div class="grid stagger-reveal">
        <div class="card reveal reveal-up"><i class="fa-solid fa-credit-card"></i>
          <h3>Maintenance Payments</h3>
        </div>
        <div class="card reveal reveal-up"><i class="fa-solid fa-dumbbell"></i>
          <h3>Amenities Scheduling</h3>
        </div>
        <div class="card reveal reveal-up"><i class="fa-solid fa-bell"></i>
          <h3>Events & Notifications</h3>
        </div>
        <div class="card reveal reveal-up"><i class="fa-solid fa-truck"></i>
          <h3>Delivery & Cab Control</h3>
        </div>
        <div class="card reveal reveal-up"><i class="fa-solid fa-headset"></i>
          <h3>Quick Support</h3>
        </div>
        <div class="card reveal reveal-up"><i class="fa-solid fa-shield-halved"></i>
          <h3>Security Monitoring</h3>
        </div>
      </div>

    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section id="testimonials" class="section">
    <div class="container">
      <h2 class="reveal reveal-up" style="text-align:center;">Trusted by Modern Communities</h2>
      <div class="testimonial-grid stagger-reveal">
        <div class="testimonial reveal reveal-up">
          <p>"M-Access streamlined visitor management completely."</p>
          <strong>‚Äì RWA President</strong>
        </div>
        <div class="testimonial reveal reveal-up">
          <p>"Amenities booking and payments are effortless now."</p>
          <strong>‚Äì Resident</strong>
        </div>
        <div class="testimonial reveal reveal-up">
          <p>"Secure dialing without sharing numbers is a game changer."</p>
          <strong>‚Äì Security Supervisor</strong>
        </div>
      </div>
    </div>
  </section>

  <!-- DOWNLOAD -->
  <section id="download" class="section download reveal reveal-up">
    <div class="container">
      <img src="logo.png" alt="M-Access Logo" style="height: 140px; margin-bottom: 24px;">
      <h2>Download M-Access</h2>
      <div style="margin-top: 30px; display: flex; justify-content: center; flex-wrap: wrap;">
        <a href="https://apps.apple.com/in/app/m-access/id6758698957" class="store-btn" target="_blank">
          <i class="fa-brands fa-apple"></i> App Store
        </a>
        <a href="#" class="store-btn" target="_blank">
          <i class="fa-brands fa-google-play"></i> Google Play
        </a>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <p>üìû 89250 33533</p>
      <p>üìß admin@octagonmanagement.in</p>
      <p>üìç No.1, Jeganathapuram, Velachery, Chennai ‚Äì 600042</p>
    </div>
  </footer>

  <script>
    window.addEventListener("load", () => {
      document.querySelector(".loader").style.display = "none";
    });

    const glow = document.querySelector('.cursor-glow');
    document.addEventListener('mousemove', e => {
      glow.style.left = e.clientX + 'px';
      glow.style.top = e.clientY + 'px';
    });

    const navToggle = document.querySelector('.mobile-nav-toggle');
    const navLinks = document.querySelector('.nav-links');

    navToggle.addEventListener('click', () => {
      navLinks.classList.toggle('active');
    });

    // Close menu when a link is clicked
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', () => {
        navLinks.classList.remove('active');
      });
    });

    // Header scroll effect
    const nav = document.querySelector('nav');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        nav.classList.add('scrolled');
      } else {
        nav.classList.remove('scrolled');
      }
    });

    // --- Generic 3D Tilt Logic ---
    const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

    if (!isTouchDevice) {
      document.querySelectorAll('.tilt-3d').forEach(el => {
        const wrapper = el.parentElement; // Perspective is usually on the parent

        wrapper.addEventListener('mousemove', (e) => {
          const rect = wrapper.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;

          const centerX = rect.width / 2;
          const centerY = rect.height / 2;

          const rotateX = (y - centerY) / (rect.height / 25); // Max 25deg
          const rotateY = (centerX - x) / (rect.width / 25);

          el.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
        });

        wrapper.addEventListener('mouseleave', () => {
          el.style.transform = `rotateX(0deg) rotateY(0deg)`;
        });
      });
    }

    // Scroll Reveal Intersection Observer
    const observerOptions = {
      threshold: 0.05,
      rootMargin: '0px 0px -20px 0px'
    };

    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        // Toggle 'active' class based on whether it's in view
        // This ensures animations replay every time you scroll up or down
        entry.target.classList.toggle('active', entry.isIntersecting);
      });
    }, observerOptions);

    document.querySelectorAll('.reveal').forEach(el => {
      revealObserver.observe(el);
    });

    // Navigation Active State Highlight
    const sections = document.querySelectorAll('section[id]');
    const navLinksList = document.querySelectorAll('.nav-links a');

    const navObserverOptions = {
      threshold: 0.2, // Trigger earlier
      rootMargin: "-20% 0px -20% 0px"
    };

    const navObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.getAttribute('id');
          navLinksList.forEach(link => {
            link.classList.remove('active');
            const href = link.getAttribute('href');
            if (href === `#${id}` || (id === 'home' && (href === '#' || href === '#home'))) {
              link.classList.add('active');
            }
          });
        }
      });
    }, navObserverOptions);

    sections.forEach(section => {
      navObserver.observe(section);
    });

    // Manual click override
    navLinksList.forEach(link => {
      link.addEventListener('click', (e) => {
        // We let the observer handle it generally, but for instant UI feedback:
        navLinksList.forEach(l => l.classList.remove('active'));
        link.classList.add('active');
      });
    });

    // Ensure Home is active at the very top
    window.addEventListener('scroll', () => {
      if (window.scrollY < 100) {
        navLinksList.forEach(link => {
          link.classList.remove('active');
          if (link.getAttribute('href') === '#' || link.getAttribute('href') === '#home') {
            link.classList.add('active');
          }
        });
      }
    });

    // --- Interactive 3D Background Logic ---
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    let width, height;
    let mouseX = 0, mouseY = 0;

    function resize() {
      width = canvas.width = window.innerWidth;
      height = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    class Particle {
      constructor() {
        this.init();
      }
      init() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.z = Math.random() * 1000;
        this.size = 1 + Math.random() * 2;
        this.vx = (Math.random() - 0.5) * 0.5;
        this.vy = (Math.random() - 0.5) * 0.5;
      }
      update() {
        this.x += this.vx;
        this.y += this.vy;
        this.z -= 1.2; // Slightly faster movement for more "life"

        if (this.z < 1) this.init();

        // Project 3D to 2D
        const scale = 400 / (400 + this.z);
        this.px = (this.x - width / 2) * scale + width / 2 + (mouseX * (1 - scale) * 0.08);
        this.py = (this.y - height / 2) * scale + height / 2 + (mouseY * (1 - scale) * 0.08);
        this.pSize = this.size * scale;
      }
      draw() {
        const opacity = Math.min(1, (1000 - this.z) / 700) * 0.6;
        ctx.fillStyle = `rgba(45, 91, 227, ${opacity})`;
        ctx.beginPath();
        ctx.arc(this.px, this.py, this.pSize, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    for (let i = 0; i < 120; i++) particles.push(new Particle());

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX - width / 2;
      mouseY = e.clientY - height / 2;
    });

    function animate() {
      ctx.clearRect(0, 0, width, height);
      particles.forEach(p => {
        p.update();
        p.draw();
      });
      requestAnimationFrame(animate);
    }
    animate();
  </script>

</body>

</html>